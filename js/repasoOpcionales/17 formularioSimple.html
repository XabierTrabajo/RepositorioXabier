<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario simple</title>
</head>

<body>
    <form>
        <input type="text" name="usuario" id="usuario">
        <input type="password" name="pass" id="pass">
        <button id="enviar">Validar</button>
    </form>
</body>

</html>
<style>
    body {
        font-family: Arial, Helvetica, sans-serif;
        font-size: larger;
    }
</style>
<script>
    // cargo el evento al abrir la pagina
    window.addEventListener("load", eventos);

    // añado el evento al link
    function eventos() {
        event.preventDefault();
        document.getElementById("enviar").addEventListener("click", validar);
    }

    function validar() {
        event.preventDefault();

        let usuario = document.getElementById("usuario").value;
        let pass = document.getElementById("pass").value;
        const regexPass = /^(?=\w*\d)(?=\w*[A-Z])(?=\w*[a-z])\S{8,30}$/;

        if (usuario == "" || usuario == " " || usuario == null) {
            console.log("Usuario inválido!");
            errorUser();
            return false;
        }
        else {
            console.log("Usuario válido!");
            resetErrorUser();
        }

        // contrasena 
        if (regexPass.test(pass)) {
            console.log("Contraseña válida!");
            resetError();
        }
        else {
            console.log("Contraseñas inválida!");
            error();
            resetPass();
            return false;
        }

        //si todo ha salido bien 
        alert("Te has registrado")
    }

    function errorUser() {
        // centrar en el usuario incorrecto
        document.getElementById("usuario").focus();
        // cambiar color de error
        document.getElementById("usuario").style.backgroundColor = "red";
        document.getElementById("usuario").style.color = "white";
    }

    function resetErrorUser() {
        // eliminar el estilo del error
        document.getElementById("usuario").removeAttribute("style");
    }

    function error() {
        // centrar en la contraseña incorrecta
        document.getElementById("pass").focus();
        // cambiar color de error
        document.getElementById("pass").style.backgroundColor = "red";
        document.getElementById("pass").style.color = "white";
    }

    function resetError() {
        // eliminar el estilo del error
        document.getElementById("pass").removeAttribute("style");
    }

    function resetPass() {
        // reseteo las contraseñas
        document.getElementById("pass").value = "";
    }
</script>